<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agenda de Alain</title>
  <meta name="theme-color" content="#4a90e2" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="assets/favicon.png" />
  <style>
    :root { --primary:#4a90e2; --bg:#f9fafc; --ink:#222; --muted:#556; }
    *{ box-sizing:border-box }
    body{ margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; background:var(--bg); color:var(--ink) }
    header{ position:sticky; top:0; z-index:10; background:var(--primary); color:#fff; text-align:center; padding:1rem; font-size:1.15rem; font-weight:700 }
    nav{ display:grid; grid-template-columns: repeat(4,1fr); gap:.5rem; padding:.5rem; background:#eef1f6; position:sticky; top:56px; z-index:9 }
    nav button{ padding:.7rem .5rem; border:none; border-radius:12px; background:var(--primary); color:#fff; font-size:1rem; }
    nav button[aria-current="page"]{ outline:2px solid #fff; box-shadow:0 0 0 2px rgba(0,0,0,.08) inset }
    main{ padding:1rem }
    section{ display:none }
    section.active{ display:block }
    h2{ margin:.2rem 0 .8rem; color:var(--primary); font-size:1.1rem; display:flex; align-items:center; justify-content:space-between }
    .card{ background:#fff; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.06); padding:1rem; margin:.6rem 0 }
    .table-wrap{ overflow-x:auto }
    table{ width:100%; border-collapse:collapse; min-width:760px }
    th,td{ border:1px solid #e6e9ef; padding:.6rem .5rem; text-align:left; vertical-align:top }
    th{ background:#f3f6fb; color:#223; font-weight:700 }
    tbody tr:nth-child(even) td{ background:#fbfcfe }
    .hour{ white-space:nowrap; font-weight:600; color:#334 }
    .pill{ display:inline-block; padding:.2rem .5rem; border-radius:999px; background:#eef; font-size:.85rem; margin-left:.4rem }
    .muted{ color:var(--muted); font-size:.9rem }
    .kanban{ display:flex; gap:.75rem; overflow-x:auto; padding-bottom:.5rem }
    .col{ flex:1 0 220px; background:#f1f3f7; border-radius:12px; padding:.5rem }
    .col h3{ margin:.25rem .5rem; font-size:1rem; color:#334 }
    .note{ background:#fff3cd; padding:.6rem .8rem; border-left:6px solid #ffc107; border-radius:8px; margin:.5rem 0 }
    footer{ padding:1rem; text-align:center; color:#667; font-size:.85rem }

    /* Deberes */
    .toolbar{ display:flex; gap:.5rem; flex-wrap:wrap }
    .toolbar button, .toolbar label.btn{ background:var(--primary); color:#fff; border:none; border-radius:10px; padding:.5rem .75rem; cursor:pointer }
    .toolbar input[type="file"]{ display:none }
    dialog{ width:min(560px,92vw); border:none; border-radius:16px; padding:0; box-shadow:0 12px 40px rgba(0,0,0,.25) }
    .dlg-head{ background:var(--primary); color:#fff; padding:1rem; border-radius:16px 16px 0 0; font-weight:700 }
    .dlg-body{ padding:1rem; display:grid; gap:.75rem }
    .field{ display:grid; gap:.35rem }
    input[type="text"], input[type="date"]{ width:100%; padding:.7rem .8rem; border-radius:10px; border:1px solid #d9deea }
    .dlg-actions{ display:flex; justify-content:flex-end; gap:.5rem; padding:1rem }
    .btn{ border:none; border-radius:10px; padding:.6rem .9rem }
    .btn.secondary{ background:#eef1f6; color:#223 }
    .btn.primary{ background:var(--primary); color:#fff }
    .task-row{ display:flex; align-items:center; gap:.6rem }
    .task-row label{ flex:1 }
    .ghost{ opacity:.55 }
    .small{ font-size:.85rem; color:#667 }
    .chip{ display:inline-block; padding:.15rem .45rem; border-radius:999px; background:#e9f1ff; font-size:.78rem; margin-left:.4rem; color:#fff }
    .actions{ display:flex; gap:.4rem }
    .icon-btn{ background:transparent; border:none; padding:.25rem .4rem; cursor:pointer }
  </style>

Agus nube, [08/09/2025 17:18]
<script>
    // -------- NavegaciÃ³n SPA --------
    function showSection(id){
      document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav button').forEach(b=>b.removeAttribute('aria-current'));
      document.querySelector(nav button[data-target="${id}"]).setAttribute('aria-current','page');
    }

    // -------- Deberes (localStorage + colores + export/import) --------
    const STORE_KEY = 'agenda.deberes.v1';
    function loadTasks(){ try { return JSON.parse(localStorage.getItem(STORE_KEY)) || []; } catch(e){ return []; } }
    function saveTasks(arr){ localStorage.setItem(STORE_KEY, JSON.stringify(arr)); }

    const SUBJECT_COLORS = {
      'mates':'#3b82f6','matematicas':'#3b82f6','matemÃ¡ticas':'#3b82f6',
      'lengua':'#ef4444','castellano':'#ef4444',
      'inglÃ©s':'#22c55e','ingles':'#22c55e',
      'euskera':'#06b6d4',
      'tecnologia':'#a855f7','tecnologÃ­a':'#a855f7','tecnologia y digitalizacion':'#a855f7','tecnologÃ­a y digitalizaciÃ³n':'#a855f7',
      'fyq':'#f59e0b','fisica y quimica':'#f59e0b','fÃ­sica y quÃ­mica':'#f59e0b',
      'plastica':'#ec4899','plÃ¡stica':'#ec4899',
      'musica':'#10b981','mÃºsica':'#10b981',
      'religion':'#8b5cf6','religiÃ³n':'#8b5cf6',
      'tutoria':'#14b8a6','tutorÃ­a':'#14b8a6',
      'geografia':'#84cc16','geografÃ­a e historia':'#84cc16','geografia e historia':'#84cc16',
      'salud':'#f97316'
    };
    function norm(s){ return (s||'').toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'').trim(); }
    function subjectColor(s){
      const n = norm(s);
      if(SUBJECT_COLORS[n]) return SUBJECT_COLORS[n];
      for(const k of Object.keys(SUBJECT_COLORS)) if(n.startsWith(k)) return SUBJECT_COLORS[k];
      const palette=['#0ea5e9','#f43f5e','#22c55e','#eab308','#8b5cf6','#06b6d4','#84cc16','#f97316','#14b8a6'];
      let h=0; for(let i=0;i<n.length;i++){ h=((h<<5)-h)+n.charCodeAt(i); h|=0; } return palette[Math.abs(h)%palette.length];
    }

    function rowHTML(t, i){
      const color = t.subject ? subjectColor(t.subject) : null;
      const chip = t.subject ? <span class="chip" style="background:${color}">${t.subject}</span> : '';
      const due = t.due ? <span class="pill">${t.due}</span> : '';
      return <div class="card task-row${t.done?' ghost':''}">
        <input type="checkbox" class="chk" data-idx="${i}" ${t.done?'checked':''}/>
        <label>${t.text} ${chip} ${due}</label>
        <div class="actions"><button class="icon-btn del" title="Eliminar" data-idx="${i}">ğŸ—‘ï¸</button></div>
      </div>;
    }

    function renderTasks(){
      const list = document.getElementById('tasksList');
      const arr = loadTasks();
      if(!arr.length){ list.innerHTML = '<p class="muted">No hay tareas todavÃ­a. Pulsa â• para aÃ±adir la primera.</p>'; return; }
      const ordered = [...arr].sort((a,b)=> (a.done===b.done ? (a.due'').localeCompare(b.due'') : a.done-b.done));
      list.innerHTML = ordered.map((t,i)=>rowHTML(t,i)).join('');
      list.querySelectorAll('.chk').forEach(chk=>{
        chk.addEventListener('change', e=>{
          const idx=+e.target.dataset.idx; const data=loadTasks(); data[idx].done=e.target.checked; saveTasks(data); renderTasks();
        });
      });
      list.querySelectorAll('.del').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const idx=+e.target.dataset.idx; const data=loadTasks(); data.splice(idx,1); saveTasks(data); renderTasks();
        });
      });
    }

    function addTaskFromForm(){
      const text = document.getElementById('taskText').value.trim();
      const subject = document.getElementById('taskSubject').value.trim();
      const due = document.getElementById('taskDate').value;

Agus nube, [08/09/2025 17:18]
if(!text){ alert('Escribe la tarea.'); return; }
      const arr = loadTasks(); arr.push({text,subject,due,done:false,created:new Date().toISOString()}); saveTasks(arr);
      document.getElementById('formNew').reset(); document.getElementById('dlgNew').close(); renderTasks();
    }

    function exportTasks(){
      const blob = new Blob([JSON.stringify(loadTasks(), null, 2)], {type:'application/json'});
      const a=document.createElement('a'), d=new Date(), pad=n=>String(n).padStart(2,'0');
      a.download=deberes-alain-${d.getFullYear()}${pad(d.getMonth()+1)}${pad(d.getDate())}.json;
      a.href=URL.createObjectURL(blob); a.click(); setTimeout(()=>URL.revokeObjectURL(a.href),1000);
    }
    function importTasksFromFile(file){
      if(!file) return;
      const r=new FileReader();
      r.onload=()=>{ try{
        const data=JSON.parse(r.result); if(!Array.isArray(data)) throw new Error();
        const safe=data.map(o=>({text:String(o.text'').slice(0,500), subject:o.subject?String(o.subject).slice(0,60):'', due:o.due?String(o.due).slice(0,20):'', done:!!o.done, created:o.creatednew Date().toISOString()}));
        saveTasks(safe); renderTasks(); alert('ImportaciÃ³n completada âœ…');
      }catch(e){ alert('El archivo no es vÃ¡lido. Debe ser un JSON exportado.'); }};
      r.readAsText(file);
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      document.querySelectorAll('nav button').forEach(b=> b.addEventListener('click', ()=> showSection(b.dataset.target)));
      showSection('horario');

      if('serviceWorker' in navigator){ navigator.serviceWorker.register('./sw.js').catch(()=>{}); }

      // Deberes
      renderTasks();
      document.getElementById('btnNew').addEventListener('click', ()=> document.getElementById('dlgNew').showModal());
      document.getElementById('btnCreate').addEventListener('click', addTaskFromForm);
      document.getElementById('btnCancel').addEventListener('click', ()=> document.getElementById('dlgNew').close());
      document.getElementById('btnExport').addEventListener('click', exportTasks);
      document.getElementById('fileImport').addEventListener('change', e=> importTasksFromFile(e.target.files[0]));
      document.getElementById('btnImport').addEventListener('click', ()=> document.getElementById('fileImport').click());
    });
  </script>
</head>
<body>
  <header>ğŸ“š Agenda de Alain</header>

  <nav>
    <button data-target="horario" aria-current="page">ğŸ“… Horario</button>
    <button data-target="deberes">ğŸ“ Deberes</button>
    <button data-target="proyectos">ğŸš€ Proyectos</button>
    <button data-target="notas">ğŸ’¬ Notas</button>
  </nav>

  <main>
    <!-- HORARIO -->
    <section id="horario" class="active">
      <h2>ğŸ“… Horario Semanal (2ÂºB)</h2>
      <div class="card table-wrap">
        <table>
          <thead>
            <tr>
              <th>Hora</th><th>Lunes</th><th>Martes</th><th>MiÃ©rcoles</th><th>Jueves</th><th>Viernes</th>
            </tr>
          </thead>
          <tbody>
            <tr><td class="hour">8:30 â€“ 9:25</td><td>ğŸƒâ€â™‚ï¸ EducaciÃ³n FÃ­sica <span class="muted">(Noelia)</span></td><td>ğŸŒ Euskera <span class="muted">(IÃ±igo)</span></td><td>ğŸƒâ€â™€ï¸ EducaciÃ³n FÃ­sica <span class="muted">(Noelia)</span></td><td>ğŸ§  Salud FÃ­sica y Emociones <span class="muted">(Noelia/Leire Â· P. CrÃ­tico)</span></td><td>âœï¸ Lengua <span class="muted">(MÂª Carmen)</span></td></tr>
            <tr><td class="hour">9:25 â€“ 10:20</td><td>ğŸ‡¬ğŸ‡§ InglÃ©s <span class="muted">(Sheila)</span></td><td>âš—ï¸ FÃ­sica y QuÃ­mica <span class="muted">(Miriam)</span></td><td>ğŸ’» TecnologÃ­a y DigitalizaciÃ³n <span class="muted">(Juanda)</span></td><td>â— MatemÃ¡ticas <span class="muted">(JosÃ© Manuel)</span></td><td>ğŸŒ GeografÃ­a e Historia <span class="muted">(Leire)</span></td></tr>
            <tr><td class="hour">10:35 â€“ 11:30</td><td>âœï¸ Lengua <span class="muted">(MÂª Carmen)</span></td><td>ğŸ¨ PlÃ¡stica <span class="muted">(Ander)</span></td><td>ğŸŒ Euskera <span class="muted">(IÃ±igo)</span></td><td>âš—ï¸ FÃ­sica y QuÃ­mica <span class="muted">(Miriam)</span></td><td>â— MatemÃ¡ticas

Agus nube, [08/09/2025 17:18]
<span class="muted">(JosÃ© Manuel)</span></td></tr>
            <tr><td class="hour">11:30 â€“ 12:25</td><td>â— MatemÃ¡ticas <span class="muted">(JosÃ© Manuel)</span></td><td>ğŸ‡¬ğŸ‡§ InglÃ©s <span class="muted">(Sheila)</span></td><td>â— MatemÃ¡ticas <span class="muted">(JosÃ© Manuel)</span></td><td>âœï¸ ReligiÃ³n <span class="muted">(Antzane)</span></td><td>ğŸŒ± TutorÃ­a <span class="muted">(IÃ±igo)</span></td></tr>
            <tr><td class="hour">12:40 â€“ 13:35</td><td>ğŸ§  Salud FÃ­sica y Emociones <span class="muted">(Noelia/Leire)</span></td><td>ğŸµ MÃºsica <span class="muted">(Javier Lekue)</span></td><td>âœï¸ Lengua <span class="muted">(MÂª Carmen)</span></td><td>âœï¸ Lengua <span class="muted">(MÂª Carmen)</span></td><td>ğŸ‡¬ğŸ‡§ InglÃ©s <span class="muted">(Sheila)</span></td></tr>
            <tr><td class="hour">13:35 â€“ 14:30</td><td>ğŸŒ GeografÃ­a e Historia <span class="muted">(Leire)</span></td><td>ğŸ’» TecnologÃ­a y DigitalizaciÃ³n <span class="muted">(Juanda)</span></td><td>ğŸ‡¬ğŸ‡§ InglÃ©s GH <span class="muted">(Sheila)</span></td><td>ğŸŒŸ Valores / Interioridad <span class="muted">(JosÃ© Manuel)</span></td><td>ğŸŒ Euskera <span class="muted">(IÃ±igo)</span></td></tr>
          </tbody>
        </table>
        <p class="muted" style="margin-top:.75rem;">*Desliza horizontalmente si no cabe completa en tu mÃ³vil.</p>
      </div>
    </section>

    <!-- DEBERES -->
    <section id="deberes">
      <h2>
        <span>ğŸ“ Deberes y ExÃ¡menes</span>
        <span class="toolbar">
          <button id="btnNew" title="AÃ±adir">â• AÃ±adir</button>
          <button id="btnExport" title="Exportar">â¬‡ï¸ Exportar</button>
          <label for="fileImport" class="btn">â¬†ï¸ Importar</label>
          <input id="fileImport" type="file" accept="application/json,.json" />
        </span>
      </h2>
      <div id="tasksList"></div>

      <dialog id="dlgNew">
        <div class="dlg-head">â• Nueva tarea / examen</div>
        <form id="formNew" class="dlg-body" method="dialog">
          <div class="field">
            <label for="taskText">Tarea *</label>
            <input id="taskText" type="text" placeholder="Ej.: Ejercicios tema 3" required />
          </div>
          <div class="field">
            <label for="taskSubject">Asignatura (opcional)</label>
            <input id="taskSubject" type="text" placeholder="Mates, Lengua, InglÃ©sâ€¦" />
          </div>
          <div class="field">
            <label for="taskDate">Fecha lÃ­mite</label>
            <input id="taskDate" type="date" />
          </div>
        </form>
        <div class="dlg-actions">
          <button class="btn secondary" id="btnCancel">Cancelar</button>
          <button class="btn primary" id="btnCreate">Crear</button>
        </div>
      </dialog>
      <p class="small">Consejo: usa siempre el mismo nombre de asignatura para mantener el mismo color (p. ej., â€œMatesâ€, â€œLenguaâ€, â€œInglÃ©sâ€).</p>
    </section>

    <!-- PROYECTOS -->
    <section id="proyectos">
      <h2>ğŸš€ Proyectos</h2>
      <div class="kanban">
        <div class="col">
          <h3>Pendiente</h3>
          <div class="card">ğŸ“Š Trabajo de Ciencias</div>
          <div class="card">ğŸ­ Teatro escolar</div>
        </div>
        <div class="col">
          <h3>En curso</h3>
          <div class="card">ğŸ“˜ Proyecto de Historia</div>
        </div>
        <div class="col">
          <h3>Terminado</h3>
          <div class="card">ğŸ¨ LÃ¡mina de PlÃ¡stica</div>
        </div>
      </div>
      <p class="small">*En prÃ³ximas versiones podemos hacer proyectos arrastrables (drag & drop) y guardarlos tambiÃ©n en el dispositivo.</p>
    </section>

    <!-- NOTAS -->
    <section id="notas">
      <h2>ğŸ’¬ Notas rÃ¡pidas</h2>
      <div class="note">â— Examen de mates el viernes</div>
      <div class="note">ğŸ‘Ÿ Traer chÃ¡ndal el lunes</div>
      <div class="note">ğŸ“˜ Entregar libro de lectura el martes</div>
    </section>
  </main>

  <footer>Hecho con cariÃ±o para la familia de Agus ğŸ’™</footer>
</body>
</html>
